<%= form_with model:@create, url: creates_path, local: true do |f| %>

<div class="input-data">作成するシフトの月を選択してください
  <div>
      <%= f.collection_select(:month, Month.all, :id, :name, {}, {class:"month", id:"month",})%>
  </div>
</div>
<div> 勤務する人を全て入力してください 
      <p>
        <input id="member1" type="text" name="name" size="10" placeholder="例) 鈴木">
        <button type="button" id="hannei" onclick="member();" >反映</button>
        <div id="count">0人追加/12人まで</div>
      </p>
</div>



<table id="days-member">
  <tr id="test">
    <th class="fixed01">見出し</th>
  </tr>
  <tr>
    <th class="fixed02" id="shift1"></th>
  </tr>
  <tr>
    <th class="fixed02" id="shift2"></th>
  </tr>
  <tr>
    <th class="fixed02" id="shift3"></th>
  </tr>
  <tr>
    <th class="fixed02" id="shift4"></th>
  </tr>
  <tr>
    <th class="fixed02" id="shift5"></th>
  </tr>
  <tr>
    <th class="fixed02" id="shift6"></th>
  </tr>
  <tr>
    <th class="fixed02" id="shift7"></th>
  </tr>
  <tr>
    <th class="fixed02" id="shift8"></th>
  </tr>
  <tr>
    <th class="fixed02" id="shift9"></th>
  </tr>
  <tr>
    <th class="fixed02" id="shift10"></th>
  </tr>
  <tr>
    <th class="fixed02" id="shift11"></th>
  </tr>
  <tr>
    <th class="fixed02" id="shift12"></th>
  </tr>

</table>

<%# <button type="button" name="name" value="value" id="send" >button</button> %>
<%= f.submit '投稿する' , id: "send" %>
<%= f.text_field :shift , id: "all-form" %>
<%# <div id="all-form">hoge--</div> %>

<script type="text/javascript">
var countUpValue = 0;
  function member(){
    const memberID = document.getElementById("member1");
    let IntoMember = "shift" + (countUpValue + 1)
    const InnerHTMLpoint = document.getElementById(IntoMember);
    InnerHTMLpoint.innerHTML = `${memberID.value}`;
    for (i = 30; i > 0; i--) {
      InnerHTMLpoint.insertAdjacentHTML('afterend', `<td><%= f.collection_select(:shift, Shift.all, :id, :name, {}, {class:"select-box", id:"shifts-${memberID.value}-${i}"})%></td>`);
    };
    document.getElementById('member1').value = ''
    countUpValue++;
    document.getElementById("count").innerHTML = `${countUpValue}人追加/12人まで`;
  };
</script>

<% end %>